INTERACTIVE BUTTON MESSAGES VIA WOOSH BRIDGE
ANSWER: Yes, you can send interactive reply buttons through the v1 send endpoint. Here is the exact format:
ENDPOINT:
POST https://wa.woosh.ai/v1/send
HEADERS:
Content-Type: application/json
x-tenant-key: c991fd90-d50d-4b44-9228-b4dd78e47162
JSON PAYLOAD FORMAT FOR INTERACTIVE BUTTONS:
{
"to": "27821234567",
"type": "interactive",
"interactive": {
"type": "button",
"body": {
"text": "⚠️ REMINDER 1/3: Please confirm that the service provider has been notified of the entrapment at Building A - Lift 2."
},
"action": {
"buttons": [
{
"type": "reply",
"reply": {
"id": "confirm_yes",
"title": "YES"
}
}
]
}
}
}
STRUCTURE BREAKDOWN:
Top level fields:
to: recipient phone number in format "27821234567"
type: must be "interactive"
interactive: object containing the interactive message definition
Interactive object fields:
type: must be "button" for reply buttons
body: object with "text" field (your message content, max 1024 characters)
action: object containing the buttons array
Each button in the buttons array:
type: must be "reply"
reply: object containing:
id: your button identifier (max 256 characters) - this is what you'll receive in the webhook
title: button text shown to user (max 20 characters)
BUTTON LIMITATIONS:
Maximum buttons: 3 buttons per message
Button title length: Maximum 20 characters
Button ID length: Maximum 256 characters
Message body text: Maximum 1024 characters
EXAMPLE FOR YOUR USE CASE:
Single YES button:
{
"to": "27821234567",
"type": "interactive",
"interactive": {
"type": "button",
"body": {
"text": "⚠️ REMINDER 1/3: Please confirm that the service provider has been notified of the entrapment at Building A - Lift 2."
},
"action": {
"buttons": [
{
"type": "reply",
"reply": {
"id": "reminder_confirmed",
"title": "YES"
}
}
]
}
}
}
Multiple buttons example (up to 3):
{
"to": "27821234567",
"type": "interactive",
"interactive": {
"type": "button",
"body": {
"text": "⚠️ REMINDER: Service provider notification status?"
},
"action": {
"buttons": [
{
"type": "reply",
"reply": {
"id": "confirmed_yes",
"title": "YES - Confirmed"
}
},
{
"type": "reply",
"reply": {
"id": "not_yet",
"title": "Not Yet"
}
},
{
"type": "reply",
"reply": {
"id": "need_help",
"title": "Need Help"
}
}
]
}
}
}
WHAT HAPPENS WHEN USER CLICKS THE BUTTON:
When the user taps the YES button, your webhook at https://gplifts.woosh.ai/webhooks/whatsapp will receive:
{
"object": "whatsapp_business_account",
"entry": [{
"changes": [{
"value": {
"messages": [{
"from": "27821234567",
"id": "wamid.XXXXX",
"timestamp": "1234567890",
"type": "interactive",
"interactive": {
"type": "button_reply",
"button_reply": {
"id": "reminder_confirmed",
"title": "YES"
}
}
}]
}
}]
}]
}
HOW TO PARSE THE BUTTON CLICK:
Extract the message: body.entry[0].changes[0].value.messages[0]
Check if it's a button click: message.type equals "interactive" AND message.interactive.type equals "button_reply"
Get button ID: message.interactive.button_reply.id (this will be "reminder_confirmed")
Get button text: message.interactive.button_reply.title (this will be "YES")
Get user phone: message.from (this will be "27821234567")
IMPORTANT DIFFERENCE FROM TEMPLATE BUTTONS:
Interactive reply buttons (sent during 24h session): Response format is message.type equals "interactive" with message.interactive.button_reply
Template message buttons (from approved templates): Response format is message.type equals "button" with message.button.payload
For your reminder messages, you're sending interactive reply buttons, so you'll get the interactive.button_reply format in the webhook response.
NO CONFIGURATION NEEDED:
Interactive messages work directly through the bridge with no setup required. Just use the payload format shown above and it will send immediately.
TESTED AND CONFIRMED WORKING:
I previously tested interactive button messages through your tenant and they send successfully. The bridge passes them straight through to Meta's API without any validation or pre-registration.
